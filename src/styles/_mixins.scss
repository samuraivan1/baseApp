@use 'variables';
@use 'sass:color';

@mixin flex($align-item, $justify-content) {
  display: flex;
  align-items: $align-item;
  justify-content: $justify-content;
}

@mixin mobile {
  @media only screen and (max-width: variables.$mobile-width) {
    @content;
  }
}

@mixin mobile-only {
  @media screen and (max-width: 768px) {
    @content;
  }
}

@mixin tablet {
  @media only screen and (max-width: variables.$tablet-width) {
    @content;
  }
}

@mixin tablet-up {
  @media screen and (min-width: 768px) {
    @content;
  }
}

@mixin tablet-only {
  @media screen and (min-width: 576px) and (max-width: 767px) {
    @content;
  }
}

@mixin large-phone-up {
  @media screen and (min-width: 576px) {
    @content;
  }
}

@mixin desktop-only {
  @media screen and (min-width: 992px) and (max-width: 1199px) {
    @content;
  }
}

@mixin desktop-up {
  @media screen and (min-width: 992px) {
    @content;
  }
}

@mixin desktop-xl {
  @media screen and (min-width: 1200px) {
    @content;
  }
}

@mixin mobile-xs {
  @media screen and (max-width: 375px) {
    @content;
  }
}

// --------------------------------------------
// UI Mixins (botones / inputs / helpers)
// --------------------------------------------

// Enfasis de foco accesible y sutil
@mixin focus-ring($c: var(--color-primary)) {
  outline: none;
  box-shadow: 0 0 0 2px color.scale($c, $alpha: -0.85);
}

@mixin button-compact($bg, $fg, $border, $bg-hover: null) {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  min-height: var(--control-height-sm);
  padding: 0 var(--spacing-sm);
  font-size: var(--font-size-sm);
  font-weight: 600;
  background: $bg;
  color: $fg;
  border: 1px solid $border;
  border-radius: var(--border-radius-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  white-space: nowrap;
  user-select: none;

  &:hover:not(:disabled) {
    background: if($bg-hover != null, $bg-hover, $bg);
    border-color: if($bg-hover != null, $bg-hover, $border);
  }

  &:focus-visible { @include focus-ring(var(--color-primary)); }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

@mixin input-compact() {
  height: var(--control-height-input, 36px);
  padding: 0 var(--spacing-sm);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-sm);
  transition: border-color 0.2s ease;
  &:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(242, 104, 34, 0.15);
  }
}

// Badge redondo para iconos de encabezado
@mixin icon-badge($bg: var(--color-primary), $fg: var(--color-text-on-primary)) {
  display: inline-flex;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: $bg;
  color: $fg;
  align-items: center;
  justify-content: center;
}

// Divider principal (l√≠nea naranja corporativa)
@mixin divider-primary($height: 2px, $color: var(--color-primary)) {
  height: $height;
  background: $color;
}

// Sticky header para tablas
@mixin sticky-header($top: 0) {
  position: sticky;
  top: $top;
  z-index: 10;
}

// Hover row suave para tablas
@mixin hover-row($bg: #f8f9fa) {
  &:hover { background-color: $bg; }
}
