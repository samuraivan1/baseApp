@use '@/styles/_mixins' as mix;

.command-bar__container {
  margin-bottom: 1rem;
}

.command-bar {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr; /* 50% - 25% - 25% */
  gap: 1rem;
  align-items: center;
  padding: 0.5rem 1rem;
  background: var(--surface-bg);
  border: 1px solid var(--surface-border);
  border-radius: var(--border-radius-medium) var(--border-radius-medium) 0 0;
}

/* búsqueda + filtros */
.command-bar__search {
  display: flex;
  align-items: center;
  gap: 0.4rem;
}

.search-input {
  @include mix.input-compact();
  width: 100%;
  max-width: 240px;
  height: var(--control-height-sm); // igual a los botones
}

/* botones base (delgados) */
.command-bar__button {
  background: #f4f4f4;
  border: 1px solid var(--surface-border);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  font-size: var(--font-size-sm);
  font-weight: 500;
  padding: 0 var(--spacing-sm);
  border-radius: var(--border-radius-small);
  color: #323130;
  height: var(--control-height-sm);
  &:hover {
    background: #eaeaea;
  }
}

/* añadir / actualizar */
.command-bar__button.add {
  background: #ef6b06;
  color: #fff;
  border: none;
  &:hover {
    background: #d65e05;
  }
}
.command-bar__button.refresh {
  background: #0078d4;
  color: #fff;
  border: none;
  &:hover {
    background: #0063b1;
  }
}

/* botón "más filtros" */
.command-bar__filters {
  background: #f1f1f1;
  border: 1px solid var(--surface-border);
  padding: 0 var(--spacing-sm);
  border-radius: var(--border-radius-small);
  cursor: pointer;
  font-size: var(--font-size-sm);
  font-weight: 500;
  color: #555;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  height: var(--control-height-sm);
  &:hover {
    background: #e6e6e6;
  }
}

/* contenedores de acciones/export */
.command-bar__actions {
  display: flex;
  gap: 0.4rem;
  justify-content: flex-start;
}
.command-bar__export {
  display: flex;
  justify-content: flex-end;
}

/* botón excel (verde MS) */
.command-bar__button--excel {
  background: #217346;
  color: #fff;
  border: none;
  padding: 0 var(--spacing-sm);
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-sm);
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  height: var(--control-height-sm);
  &:hover {
    background: #1e5d3b;
  }
}

/* bloque de filtros dinámicos */
.command-bar__dynamic-filters {
  padding: 0.75rem 1rem;
  border: 1px solid var(--surface-border);
  border-top: none;
  border-radius: 0 0 6px 6px;
  background: #fafafa;
}

/* Inline Dynamic Filter rows */
.command-bar__dynamic-filters {
  .df-rows {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
  }
  .df-row {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }
  .df-row select {
    @include mix.input-compact();
    width: 150px;
    height: var(--control-height-sm); // igual a los botones
  }
  .df-row input {
    @include mix.input-compact();
    width: 200px;
    height: var(--control-height-sm); // igual a los botones
  }
  .df-actions {
    display: flex;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-sm);
  }
  gap: 0.5rem;
}
